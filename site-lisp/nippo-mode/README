  nippo-mode - 日報書きモード
  written by yo-sugi <y_sugi@anet.ne.jp>  (May 21, 2005)

■はじめに
  日報書きモードです。日報に限らず、以前書いたものに
  少しずつ変更を加えていくような文書に使えると思います。

  特微はこんな感じ
    ・日付などを自動挿入
    ・日報、週報など複数文書に対応
    ・履歴を残せます
    ・へなちょこメール送信機能付き

  ライセンスは NYSL で公開します。
  付属の LICENCE ファイルを読んでください。

■インストール
  1. このファイルを site-lisp 以下に置いて下さい。
     必要であればバイトコンパイルして下さい。

  2. 同梱の .nippo ディレクトリを $XYZZYHOME 以下にコピーしてください。

  3. メールを送信したい人は .nippo ディレクトリの中の template.txt を
     書いてください。書き方は後述。

  4. .xyzzy などに以下のように書いて下さい。
  
     ;; nippo-mode
     (load-library "nippo")

     最低限これだけで動きます。詳しい書き方は後述。

■使い方
  M-x nippo-mode で起動します。
  ミニバッファに category: と表示されますので、
  編集したい文書を選んでください。
  前回編集した内容が表示されますので、自由に書きかえます。

  編集が終わったら、C-x C-s で保存、
  C-c C-c でメールの送信ができます。

■設定例
  ; nippo-mode
  (load-library "nippo")
  ;; デフォルトで選択されてるカテゴリ
  ;(setq *nippo-default-category* "nippo")
  ;; ログの区切りに入れる文字
  ;(setq *nippo-log-separate-format* nil)
  ;; メールを送信したいならこれも
  ;(setq *nippo-smtp-server* "smtp.foo.bar.jp")
  ;; ポート番号
  ;(setq *nippo-smtp-port* "25")
  ;; メール送信と同時に保存したい人は t に
  ;(setq *nippo-save-with-mail* nil)

■ ~/.nippo ディレクトリの中身
  ●ディレクトリ
    nippo, syuho など、カテゴリ毎にディレクトリを作ります。
    カテゴリを増やしたい場合は、このディレクトリの下に
    新しく作れば OK です。
    以下は各ディレクトリの中に作るファイルです。

  ●template.txt
    メール用のテンプレートファイルです。
	eml 形式で書いておけば、C-c C-c でメールを送信します。
    このファイルがないとメール送信はできません。
	このファイル中では本文、時刻用のタグが使えます。
    使えるタグは以下の通り。

    $CONTENTS : 本文に置換されます。
    $DATE     : 日付に置換されます。 "05年05月17日(火)" とか
    $YEAR     : 西暦に置換されます。 "2005" とか
    $MONTH    : 月に置換されます。 "06" とか
    $DAY      : 日に置換されます。 "22" とか

  ●recent.txt
    最初はありません。
	前回書いた日報の内容が保存されます。

  ●log.txt
    最初はありません。
	今まで書いた日報が保存されます。
	区切り行は *nippo-log-separate-format* になります。
    デフォルトは
	= 日報: 05年05月17日(火)
	みたいになります。

■注意
  メール送信系はかなりへなちょこですので、
  あんまり特殊なメールは送れないと思います。
  例えば、ヘッダが長すぎるとか。

■謝辞
  ・reference には大変お世話になりました。
  ・各種解説サイトにもお世話になりました。

  以下のものを参考にしました。
    - KaMail (http://www7a.biglobe.ne.jp/~hat/xyzzy/kamail.html)
    - 手元にあった LISP 達

  最後になりましたが、作者の亀井さんおよびコミュニティの皆さんに感謝します。

