$ readme.txt 2006-07-27 $

  open-backup for xyzzy

  by FUKAE Mitsuaki


■概要

  バックアップファイルを開きます。


■はじめに

  これを使ってなんか問題が起きても責任は負えませんのでご了承ください。


■注意

  階層を作ってバックアップを取る人にしか対応しておりません。

  階層を作ってバックアップを取るには、.xyzzy か siteinit.l に

    (require "backup")
    (setq *backup-directory* "~/TextBackUp/")
    (setq *hierarchic-backup-directory* t)

  などとかいてください。


■インストール

  1. open-backup.l を xyzzy/site-lisp 以下においてバイトコンパイルします。

  2. .xyzzy か、siteinit.l に以下のコードを付け加えます。
     使いやすいように適当に編集してください。

    (require "open-backup")
    (global-set-key '(#\C-x #\o #\1) 'open-backup-file-new)
    (global-set-key '(#\C-x #\o #\d) 'open-backup-dialog)

  ※ 注. 上のキー設定は C-x o をつぶします。

    (setq *open-backup-no-date-duplication* t)
    と設定すると、ダイアログに日付の同じものが表示されなくなります。
    "ファイルを保存したら常にバックアップを作る" 設定にしている時などに
    お勧めです。


■使い方

  (ファイルに関連付けられた)バッファ上で C-x o 1 としますと、
  最も新しいバックアップファイルが開かれます。
  また、C-x o d としますと、ダイアログにバックアップファイルの一覧が表示されます。

  開かれたバックアップファイル上 n(p) を押しますと、次(前)のバックアップファイル
  が開かれます。バックアップファイル上でのキー割り当ては以下の通りです。

  キー            機能
  ---             -------
  n               次のバックアップファイルを開く
  p               前のバックアップファイルを開く
  M-n             次の日付のバックアップファイルを開く
  M-p             前の日付のバックアップファイルを開く
  N               最も新しいバックアップファイルを開く
  P               最も古いバックアップファイルを開く
  q               バックアップファイルを閉じる


■更新履歴

  06/07/27
  全削除のメッセージを変更。

  06/03/08
  *open-backup-no-date-duplication* を追加。
  *backup-directory* を関数で指定している場合に対応した。
  バックアップファイル上で M-n(M-p) で 次(前) の日付の バックアップファイルを開
  くようにした。
  ライセンスを適用。

  05/08/05
  *backup-directory* を連想リストで指定した場合に対応した。
  その他、細かい修正。

  05/03/05
  ネットワーク共有上のファイル(//hoge/foo/bar.txt とか) のバックアップファイル
  が開けないのを修正。(ひえさん、"ご指摘 + 代替コード" Thx です)

  05/01/15
  open-backup-dialog での list にバックアップの更新時刻を表示するようにした。
  (2ch「xyzzyの使い方が分からぬやし 励ましあえ その5」スレの 944 さんのアイデア)
  その他、細かい修正。

  04/12/09
  diff などの機能を削除。

  04/03/25
  細かい修正。

  04/03/21
  open-backup-file-vertically-new, open-backup-file-horizontally-new を追加。
  バックアップファイル上で n(p) で 次(前) の バックアップファイルを開くように
  した。q で終了。

  03/04/01
  バックアップファイルを全削除する機能をつけた。

  03/02/03
  背景色の設定をやめにした。

  03/01/16
  ダイアログから選択するようにした。
  その他 いろいろ変えた。

  02/07/31 公開。


■ライセンス

  修正BSDライセンスとします。同梱の LICENSE.txt を参照ください。


■謝辞

  これを作成するにあたり、
  
  ・XYZZY の backup.l(亀井さん)
      http://www.jsdlab.co.jp/~kamei/
  
  を参考にさせていただきました。
  またいろいろな方々にご協力を頂きました。
  あらためて感謝のお礼を申し上げます。
